{"version":3,"sources":["components/NoteList.module.css","store/note-context.js","components/NoteForm.js","components/Note.js","components/NoteList.js","App.js","index.js","components/NoteForm.module.css","components/Note.module.css"],"names":["module","exports","NoteContext","createContext","NoteProvider","props","useState","notes","setNotes","canFetchNotes","setCanFetchNotes","url","useEffect","intervalID","setInterval","fetchNotes","a","fetch","response","json","data","clearInterval","submitNotesHandler","note","method","headers","body","JSON","stringify","Provider","value","children","NoteForm","useContext","uniqueID","Date","now","toString","Math","random","substr","id","title","message","setNote","error","setEerror","submitNote","className","classes","form","onSubmit","event","preventDefault","trim","name","onChange","prevNote","target","placeholder","Note","NoteList","Object","values","reverse","map","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b5ee4b6c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"note-list\":\"NoteList_note-list__30UWX\"};","import { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const NoteContext = createContext();\r\n\r\nexport const NoteProvider = (props) => {\r\n    const [notes, setNotes] = useState([]);\r\n    const [canFetchNotes, setCanFetchNotes] = useState(true);\r\n    const url = 'https://react-leave-a-note-default-rtdb.europe-west1.firebasedatabase.app/notes.json';\r\n\r\n    useEffect(() => {\r\n        const intervalID = setInterval(() => {\r\n            setCanFetchNotes(true);\r\n        }, 5000);\r\n\r\n        if (canFetchNotes) {\r\n            const fetchNotes = async () => {\r\n                const response = await fetch(url);\r\n                const data = await response.json();\r\n                setNotes(data);\r\n            };\r\n            fetchNotes();\r\n            setCanFetchNotes(false);\r\n        }\r\n\r\n        return () => clearInterval(intervalID);\r\n    }, [canFetchNotes]);\r\n\r\n    const submitNotesHandler = async (note) => {   \r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(note)\r\n        });\r\n        setCanFetchNotes(true);\r\n    };\r\n\r\n    return (\r\n        <NoteContext.Provider value={{notes, setNotes, submitNotesHandler}}>\r\n            {props.children}\r\n        </NoteContext.Provider>\r\n    );\r\n};","import { useState, useContext } from 'react';\r\n\r\nimport { NoteContext } from '../store/note-context';\r\nimport classes from './NoteForm.module.css';\r\n\r\nconst NoteForm = (props) => {\r\n    const {submitNotesHandler} = useContext(NoteContext);\r\n    const uniqueID = Date.now().toString(36) + Math.random().toString(36).substr(2);\r\n    const [note, setNote] = useState({\r\n        id: uniqueID,\r\n        title: '',\r\n        message: ''\r\n    });\r\n    const [error, setEerror] = useState(false);\r\n\r\n    const onChangeTitleHandler = (event) => {\r\n        setNote(prevNote => ({\r\n            ...prevNote,\r\n            title: event.target.value\r\n        }));\r\n    };\r\n\r\n    const onChangeMessageHandler = (event) => {\r\n        setNote(prevNote => ({\r\n            ...prevNote,\r\n            message: event.target.value\r\n        }));\r\n    };\r\n\r\n    const validateForm = (event) => {\r\n        event.preventDefault();\r\n        if (note.title.trim() !== '' && note.message.trim() !== '') {\r\n            submitNote();\r\n            setEerror(false);\r\n        } else {\r\n            setEerror(true);\r\n        }\r\n    };\r\n\r\n    const submitNote = () => {\r\n        submitNotesHandler(note);\r\n        setNote({\r\n            id: uniqueID,\r\n            title: '',\r\n            message: ''\r\n        });\r\n    };\r\n\r\n    return (\r\n        <form className={classes.form} onSubmit={validateForm}>\r\n            <input \r\n                className={error && note.title === '' ? classes.error : ''} \r\n                name=\"title\" \r\n                value={note.title} \r\n                onChange={onChangeTitleHandler}\r\n                placeholder={\"Title\"}\r\n            />\r\n            <input \r\n                className={error && note.message === '' ? classes.error : ''} \r\n                name=\"message\" \r\n                value={note.message} \r\n                onChange={onChangeMessageHandler} \r\n                placeholder={\"Message...\"}\r\n            />\r\n            <div>\r\n                {error && \r\n                    <div className={classes[\"error-message\"]}>\r\n                        Please enter all fields!\r\n                    </div>\r\n                }\r\n                <button>Leave a note</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default NoteForm;","import classes from './Note.module.css';\r\n\r\nconst Note = (props) => {\r\n    return (\r\n        <li className={classes.note}>\r\n            <h2>{props.title}</h2>\r\n            <p>{props.message}</p>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Note;","import { useContext } from 'react';\r\n\r\nimport { NoteContext } from '../store/note-context';\r\nimport Note from './Note';\r\nimport classes from './NoteList.module.css';\r\n\r\nconst NoteList = (props) => {\r\n    const {notes} = useContext(NoteContext);\r\n\r\n    return (\r\n        <ul className={classes[\"note-list\"]}>\r\n            {!notes && <p>Be the first one to leave a note!</p>}\r\n            {notes && Object.values(notes).reverse().map((note) => (\r\n                <Note \r\n                    key={note.id}\r\n                    id={note.id}\r\n                    title={note.title}\r\n                    message={note.message}\r\n                />\r\n            ))}\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default NoteList;","import { NoteProvider } from './store/note-context';\nimport NoteForm from './components/NoteForm';\nimport NoteList from './components/NoteList';\n\nfunction App() {\n  return (\n    <NoteProvider>\n      <NoteForm />\n      <NoteList />\n    </NoteProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NoteForm_form__3iaUj\",\"error\":\"NoteForm_error__2aGBm\",\"error-message\":\"NoteForm_error-message__1S_BL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"note\":\"Note_note__2dGR6\"};"],"sourceRoot":""}